<!--
    GYM SIMULATOR â€” GRIND MODE
    Full addictive loop implementation
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’ª Gym Simulator â€” Grind Mode</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Vercel Web Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>
<body>
    <header>
        <h1>ğŸ’ª GYM SIMULATOR</h1>
        <div class="header-buttons">
            <button id="ascendBtn" class="ascend-btn hidden">âœ¨ ASCEND</button>
            <button id="goProBtn" class="go-pro-btn hidden">ğŸŒŸ GO PRO</button>
            <button id="gymCorpTab" class="gymcorp-tab-btn">ğŸ¢ Gym Corp <span id="gymCoinCountHeader"></span></button>
            <button id="helpBtn" class="help-btn">Help</button>
        </div>
    </header>

    <!-- Event Banner -->
    <div id="eventBanner" class="event-banner hidden"></div>

    <main class="container">
        <!-- LEFT COLUMN -->
        <div class="left-column">

            <!-- Stats Panel -->
            <section class="panel stats-panel">
                <h2>ğŸ“Š Stats</h2>
                <div class="large-stat" id="totalReps">0 REPS</div>
                <div id="prestigeTitle" class="prestige-title">Gym Newbie (x1.0 gains)</div>
                <div class="stats-grid">
                    <div class="stat-item">ğŸ’ª Per click: <span id="repsPerClick">1</span></div>
                    <div class="stat-item">âš¡ Per sec: <span id="repsPerSecond">0</span></div>
                    <div class="stat-item">ğŸ¤– Auto lvl: <span id="autoGymLevel">0</span></div>
                    <div class="stat-item">ğŸ“ˆ Upgrades: <span id="totalUpgrades">0</span></div>
                    <div class="stat-item">ğŸŒŸ Prestiges: <span id="prestigeCount">0</span></div>
                    <div class="stat-item">âœ¨ Stars: <span id="ascensionStars">â€”</span></div>
                    <div class="stat-item">ğŸ† Lifetime: <span id="lifetimeReps">0</span></div>
                    <div class="stat-item">ğŸª™ GymCoins: <span id="gymCoinCount">0</span></div>
                </div>
                <div id="mirrorStat" class="mirror-stat">ğŸª Body Fat: 35.0%</div>
                <div id="momentumDisplay" class="momentum-display">âš¡ Momentum: 0/25 (+0%)</div>
                <div id="restXpDisplay" class="rest-xp-display hidden">ğŸ˜´ Rest Bonus: x2 (0s)</div>
                <div id="dailyGoalDisplay" class="daily-goal-display"></div>
                <div class="progress-container">
                    <div class="progress-label" id="progressLabel">Next: First Steps at 10 reps</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
            </section>

            <!-- Click Panel -->
            <section class="panel click-panel">
                <h2>ğŸ‹ï¸ Work Out!</h2>
                <button id="workoutBtn" class="workout-btn" aria-label="Click to work out">
                    <span class="workout-emoji">ğŸ‹ï¸</span>
                </button>
                <p class="instruction">Click to train!</p>
                <div id="comboDisplay" class="combo-display hidden"></div>

                <!-- Gym Vibes Radio -->
                <div class="radio-panel">
                    <div class="radio-label">ğŸ“» Gym Vibes Radio</div>
                    <div class="radio-buttons">
                        <button id="radio-rock"  class="radio-btn">ğŸ¸ Rock</button>
                        <button id="radio-lofi"  class="radio-btn">ğŸµ Lo-fi</button>
                        <button id="radio-metal" class="radio-btn">ğŸ¤˜ Metal</button>
                    </div>
                </div>
            </section>

        </div>

        <!-- RIGHT COLUMN -->
        <div class="right-column">

            <!-- Upgrades Panel -->
            <section class="panel upgrades-panel">
                <h2>â¬†ï¸ Upgrades
                    <span class="synergy-legend">
                        <span class="syn-click">â–  Click</span>
                        <span class="syn-auto">â–  Auto</span>
                        <span class="syn-combo">â–  Combo</span>
                        <span class="syn-chaos">â–  Chaos</span>
                    </span>
                </h2>
                <div id="upgradesContainer"></div>
            </section>

            <!-- Rewards Panel -->
            <section class="panel rewards-panel">
                <h2>ğŸ† Trophies <span id="rewardCount">(0/15)</span></h2>
                <div id="rewardsContainer"></div>
                <!-- Impossible dream progress -->
                <div class="dream-bar-container">
                    <div class="dream-label">ğŸŒŒ Become The Gym â€” 1 Quadrillion Reps</div>
                    <div class="progress-bar">
                        <div class="progress-fill dream-fill" id="dreamFill"></div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Gym Corp Panel (full-width overlay) -->
    <div id="gymCorpPanel" class="gymcorp-panel hidden">
        <div class="gymcorp-header">
            <h2>ğŸ¢ Gym Corp â€” Permanent Upgrades</h2>
            <p class="gymcorp-sub">Spend ğŸª™ GymCoins earned from Go Pro. These <strong>never reset</strong>.</p>
            <div class="gymcorp-coins">Your GymCoins: <span id="gymCoinCount2">0</span> ğŸª™</div>
        </div>
        <div id="gymCorpContainer" class="gymcorp-container"></div>
    </div>

    <!-- Message Area -->
    <div id="messageArea" class="message-area"></div>

    <!-- Congrats Popup -->
    <div id="congratsPopup" class="congrats-popup hidden"></div>

    <!-- ====== MODALS ====== -->

    <!-- Help Modal -->
    <div id="helpPanel" class="help-panel hidden">
        <div class="help-content">
            <button id="closeHelp" class="close-help">&times;</button>
            <h2>ğŸ“– How to Play</h2>
            <p>Click the workout button to earn reps. Buy upgrades to get stronger. Each system stacks â€” find the build that fits your style.</p>

            <h3>ğŸ”¥ Combo</h3>
            <p>Click fast (within the combo window) to build a streak. Every 3 streak adds +0.25x to click power. The Rhythm Training upgrade doubles the cap. Metal station adds +25% more.</p>

            <h3>âš¡ Momentum</h3>
            <p>Every 10 minutes of active play: +2% all gains. Max +50% at 25 ticks. Resets on page close. Rewards you for long sessions.</p>

            <h3>ğŸŒŸ Go Pro (Prestige)</h3>
            <p>At 10,000 reps you can Go Pro â€” reset everything but earn a permanent +50% gains multiplier AND GymCoins. Titles evolve: Newbie â†’ Regular â†’ Swole â†’ Shredded â†’ Certified Gym Rat â†’ Absolute Unit â†’ Ascended Chad â†’ The Gains God.</p>

            <h3>ğŸª™ GymCoins + Gym Corp</h3>
            <p>Going Pro earns GymCoins based on your lifetime reps. Spend them in Gym Corp on permanent upgrades that carry across all runs forever.</p>

            <h3>âœ¨ Ascension</h3>
            <p>After 10 Go Pros, you can Ascend â€” a mega reset that wipes GymCoins and prestiges but grants a permanent Ascension Star. Each star doubles ALL gains. Max 5 stars. This is the true endgame.</p>

            <h3>ğŸ‘¹ Gains Goblin</h3>
            <p>Random 3% chance: a goblin steals 5% of your reps. Click fast for 15 seconds to recover them + 50% interest. Miss it and it's gone.</p>

            <h3>ğŸ“» Gym Vibes Radio</h3>
            <p>Pick a station: Rock (+15% click), Lo-fi (+20% auto), Metal (+25% combo). Toggle off by clicking again. Free. No reason it works. It just does.</p>

            <h3>ğŸŒ€ Build Synergies</h3>
            <p>Click upgrades: every 10 owned = +10% click bonus. Auto upgrades: every 5 owned = +5% auto bonus. Own 4+ chaos upgrades to unlock a random 0.5â€“10x Chaos Synergy that rerolls every 60 seconds.</p>

            <h3>ğŸŒŒ Impossible Dream</h3>
            <p>1 Quadrillion reps. The progress bar is visible from day 1. It always mocks you. This is the north star.</p>

            <h3>ğŸ›’ Upgrades</h3>
            <ul id="helpUpgradesList"></ul>
            <h3>ğŸ† Rewards</h3>
            <ul id="helpRewardsList"></ul>

            <h3>ğŸ’¾ Save</h3>
            <p>Auto-saves every 30 seconds and on key actions. Offline income calculated on return (up to 8 hours). Rest Bonus activates on return.</p>
            <button id="resetBtn" class="reset-btn">Reset All Progress</button>
        </div>
    </div>

    <!-- Reset Modal -->
    <div id="resetModal" class="modal hidden">
        <div class="modal-card">
            <h2>ğŸ’€ Full Reset?</h2>
            <p>This wipes <strong>everything</strong> â€” reps, GymCoins, prestige count, Ascension Stars, lifetime reps, secret achievements. Permanently.</p>
            <p style="color:#ff6b6b;margin-top:8px;">There is no going back.</p>
            <div class="modal-actions">
                <button id="cancelReset" class="help-btn">Cancel</button>
                <button id="confirmReset" class="reset-btn">Yes, nuke it all</button>
            </div>
        </div>
    </div>

    <!-- Prestige Modal -->
    <div id="prestigeModal" class="modal hidden">
        <div class="modal-card prestige-card">
            <h2>ğŸŒŸ Go Pro?</h2>
            <p>Reset your current run. Gain a permanent <strong>+50% gains multiplier</strong> that stacks forever.</p>
            <p id="prestigeCoinsPreview" style="color:#ffd700;margin-top:8px;font-weight:700;">Will earn: ~0 ğŸª™ GymCoins</p>
            <p style="color:#888;font-size:0.85rem;margin-top:6px;">GymCoins are spent in Gym Corp on permanent upgrades.</p>
            <div class="modal-actions">
                <button id="cancelPrestige" class="help-btn">Not Yet</button>
                <button id="confirmPrestige" class="go-pro-btn">GO PRO ğŸŒŸ</button>
            </div>
        </div>
    </div>

    <!-- Ascension Modal -->
    <div id="ascensionModal" class="modal hidden">
        <div class="modal-card ascension-card">
            <h2>âœ¨ ASCEND?</h2>
            <p>Wipe <strong>everything</strong> â€” prestiges, GymCoins, Gym Corp upgrades. But gain an <strong>Ascension Star</strong> that permanently <strong>doubles ALL gains</strong>.</p>
            <p style="color:#da70d6;margin-top:8px;font-weight:700;">Max 5 stars. Each one is a new universe of gains.</p>
            <div class="modal-actions">
                <button id="cancelAscension" class="help-btn">I'm not ready</button>
                <button id="confirmAscension" class="ascend-btn">ASCEND âœ¨</button>
            </div>
        </div>
    </div>

    <!-- Offline Modal -->
    <div id="offlineModal" class="modal hidden">
        <div class="modal-card offline-card">
            <h2>ğŸ˜´ Welcome Back!</h2>
            <p>You were gone for <strong id="offlineTime">0 minutes</strong>.</p>
            <p style="color:#4ecdc4;font-size:1.4rem;font-weight:bold;margin-top:10px;">+<span id="offlineEarned">0</span> REPS</p>
            <p id="offlineRestMsg" style="color:#ffd700;font-size:0.9rem;margin-top:8px;"></p>
            <div class="modal-actions">
                <button id="closeOfflineModal" class="help-btn">HELL YEAH ğŸ’ª</button>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>